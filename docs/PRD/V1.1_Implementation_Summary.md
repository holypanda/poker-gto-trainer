# V1.1 å®Œæ•´ç‰Œå±€æ¨¡æ‹Ÿè®­ç»ƒ - å¼€å‘æ€»ç»“

## ğŸ“‹ å·²å®ŒæˆåŠŸèƒ½

### åç«¯ (Backend)

#### 1. æ•°æ®æ¨¡å‹ (`/backend/app/models/fullhand_session.py`)
- `FullHandSession` - å®Œæ•´ç‰Œå±€ä¼šè¯æ¨¡å‹
- `FullHandStats` - æ¯æ—¥ç»Ÿè®¡æ±‡æ€»

#### 2. æ ¸å¿ƒå¼•æ“ (`/backend/app/services/fullhand_engine.py`)
- `FullHandEngine` - ç‰Œå±€çŠ¶æ€æœº
  - 6max åº§ä½ç®¡ç†
  - ç›²æ³¨ã€å‘ç‰Œã€è¡ŒåŠ¨é¡ºåº
  - ç­¹ç ä¸åº•æ± ç»“ç®—
  - è¡ŒåŠ¨åˆæ³•æ€§æ£€æŸ¥
- `HandEvaluator` - æ‰‹ç‰Œè¯„ä¼°å™¨
  - ç‰ŒåŠ›è®¡ç®—
  - å¬ç‰Œæ£€æµ‹
  - æ‰‹ç‰Œ bucket åˆ†ç±»

#### 3. ç¿»ç‰Œç­–ç•¥å¼•æ“ (`/backend/app/services/flop_strategy.py`)
- `FlopStrategyEngine` - ç¿»ç‰Œç­–ç•¥
  - åŸºäºè§„åˆ™çš„ç®€åŒ– GTO ç­–ç•¥
  - æ”¯æŒ SRP/3BP/4BP åº•æ± ç±»å‹
  - IP/OOP ä½ç½®åˆ¤æ–­
  - 33%/75%/125% ä¸‹æ³¨å°ºåº¦
  - è¯„çº§ç³»ç»Ÿ (PERFECT/ACCEPTABLE/WRONG)

#### 4. æœåŠ¡å±‚ (`/backend/app/services/fullhand_service.py`)
- `FullHandService` - ä¸šåŠ¡é€»è¾‘
  - æ¸¸æˆç”Ÿå‘½å‘¨æœŸç®¡ç†
  - AI å¯¹æ‰‹å†³ç­–
  - å¿«è¿›å¼•æ“
  - å¤ç›˜ç”Ÿæˆ
  - Free/Pro æƒé™æ§åˆ¶

#### 5. API æ¥å£ (`/backend/app/api/fullhand.py`)
- `POST /api/v1/fullhand/start` - å¼€å§‹æ–°å±€
- `POST /api/v1/fullhand/act` - æ‰§è¡ŒåŠ¨ä½œ
- `GET /api/v1/fullhand/review/{hand_id}` - è·å–å¤ç›˜
- `POST /api/v1/fullhand/replay/{hand_id}` - é‡æ‰“åŒä¸€æ‰‹
- `GET /api/v1/fullhand/stats` - è·å–ç»Ÿè®¡

### å‰ç«¯ (Frontend)

#### 1. ç±»å‹å®šä¹‰ (`/frontend/src/types/fullhand.ts`)
- å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰
- åŠ¨ä½œæ ‡ç­¾ã€ä½ç½®é¢œè‰²ã€è¯„çº§é¢œè‰²ç­‰å¸¸é‡

#### 2. API æœåŠ¡ (`/frontend/src/services/fullhandApi.ts`)
- å®Œæ•´çš„ API å°è£…

#### 3. å®Œæ•´ç‰Œå±€é¡µé¢ (`/frontend/src/pages/FullHand.tsx`)
- é…ç½®ç•Œé¢ï¼ˆç­¹ç æ·±åº¦ã€AI éš¾åº¦ï¼‰
- ç‰Œæ¡Œç•Œé¢ï¼ˆ6max å¯è§†åŒ–ï¼‰
- å…¬å…±ç‰Œæ˜¾ç¤º
- æ“ä½œé¢æ¿ï¼ˆFold/Check/Call/Bet/Raise/Allinï¼‰
- 33%/75%/125% ä¸‹æ³¨å°ºåº¦æŒ‰é’®
- å¤ç›˜ç•Œé¢ï¼ˆPro æ˜¾ç¤ºé¢‘ç‡åˆ†å¸ƒï¼‰
- é‡æ‰“åŠŸèƒ½ï¼ˆProï¼‰

#### 4. å¯¼èˆªé›†æˆ
- Dashboard æ·»åŠ å…¥å£å¡ç‰‡
- Layout å¯¼èˆªæ æ·»åŠ é“¾æ¥
- App.tsx æ·»åŠ è·¯ç”±

### æ•°æ®åº“è¿ç§» (`/backend/alembic/versions/002_add_fullhand.py`)
- `fullhand_sessions` è¡¨
- `fullhand_stats` è¡¨

## ğŸ¯ æ ¸å¿ƒæµç¨‹

1. **å¼€å§‹ä¸€å±€**
   - é€‰æ‹©ç­¹ç æ·±åº¦ (50bb/100bb)
   - åˆå§‹åŒ– 6max ç‰Œæ¡Œ
   - å‘ç‰Œã€æ”¾ç½®ç›²æ³¨
   - è¿è¡Œ AI ç›´åˆ° Hero å›åˆ

2. **ç¿»å‰é˜¶æ®µ**
   - Hero å¯ä»¥åšå†³ç­–ï¼ˆè‹¥é‡åˆ°åŠ æ³¨ï¼‰
   - AI è‡ªåŠ¨æ‰§è¡Œç­–ç•¥
   - è‹¥ Hero å¼ƒç‰Œ â†’ ç›´æ¥ç»“ç®—

3. **ç¿»ç‰Œå…³é”®ç‚¹**
   - è¯†åˆ«æ˜¯å¦ä¸ºå…³é”®ç‚¹åœºæ™¯ï¼ˆHero PFR æˆ– vs C-betï¼‰
   - æ˜¾ç¤º 33%/75%/125% ä¸‹æ³¨é€‰é¡¹
   - è®°å½•ç”¨æˆ·é€‰æ‹©

4. **å¿«è¿›ç»“ç®—**
   - å‘å‡ºè½¬ç‰Œã€æ²³ç‰Œ
   - AI è‡ªåŠ¨å®Œæˆå‰©ä½™è¡ŒåŠ¨
   - æ‘Šç‰Œæˆ–å¼ƒç‰Œç»“ç®—

5. **å¤ç›˜**
   - æ˜¾ç¤ºç»“æœ (+/- bb)
   - ç¿»ç‰Œå…³é”®ç‚¹åˆ†æ
   - Pro: æ˜¾ç¤º GTO é¢‘ç‡åˆ†å¸ƒå›¾
   - Pro: æ”¯æŒé‡æ‰“åŒä¸€æ‰‹

## ğŸ“Š ç­–ç•¥ç³»ç»Ÿ

### ç¿»å‰ç­–ç•¥
- å¤ç”¨ç°æœ‰ GTO ç­–ç•¥å¼•æ“
- åŸºäºä½ç½®å’Œæ‰‹ç‰Œç»™å‡ºè¡ŒåŠ¨å»ºè®®

### ç¿»ç‰Œç­–ç•¥ (ç®€åŒ–ç‰ˆ)
```
è¾“å…¥ç‰¹å¾:
- åº•æ± ç±»å‹ (SRP/3BP/4BP)
- ä½ç½®å…³ç³» (IP/OOP)
- SPR æ¡¶ (LOW/MED/HIGH)
- ç‰Œé¢çº¹ç† (dry/wet/paired/monotone)
- æ‰‹ç‰Œæ¡¶ (made_strong/draw_strong/air...)

è¾“å‡º:
- åŠ¨ä½œæ¦‚ç‡åˆ†å¸ƒ {check: 0.35, bet33: 0.40, bet75: 0.20, bet125: 0.05}
```

### è¯„çº§æ ‡å‡†
- **PERFECT**: p â‰¥ 0.60
- **ACCEPTABLE**: 0.20 â‰¤ p < 0.60
- **WRONG**: p < 0.20

## ğŸ” æƒé™æ§åˆ¶

### Free ç”¨æˆ·
- æ¯æ—¥ 10 å±€é¢åº¦
- å¤ç›˜ä»…æ˜¾ç¤ºæ¨èåŠ¨ä½œ
- ä¸èƒ½é‡æ‰“åŒä¸€æ‰‹

### Pro ç”¨æˆ·
- æ— é™å±€æ•°
- å¤ç›˜æ˜¾ç¤ºå®Œæ•´é¢‘ç‡åˆ†å¸ƒ
- æ”¯æŒé‡æ‰“åŒä¸€æ‰‹ï¼ˆå›ºå®š seedï¼‰

## ğŸš€ å¦‚ä½•æµ‹è¯•

### 1. å¯åŠ¨åç«¯
```bash
cd /root/poker/backend
pip install -r requirements.txt
uvicorn app.main:app --reload
```

### 2. è¿è¡Œè¿ç§»
```bash
cd /root/poker/backend
alembic upgrade head
```

### 3. å¯åŠ¨å‰ç«¯
```bash
cd /root/poker/frontend
npm install
npm start
```

### 4. æµ‹è¯•æµç¨‹
1. ç™»å½•è´¦å·
2. é¦–é¡µç‚¹å‡»ã€Œå®Œæ•´ç‰Œå±€æ¨¡æ‹Ÿã€
3. é€‰æ‹©ç­¹ç æ·±åº¦ï¼Œç‚¹å‡»ã€Œå¼€å§‹ä¸€å±€ã€
4. ç¿»å‰ï¼šè‹¥è½®åˆ° Heroï¼Œé€‰æ‹© Fold/Check/Call/Raise
5. ç¿»ç‰Œï¼šåœ¨å…³é”®ç‚¹é€‰æ‹©åŠ¨ä½œï¼ˆ33%/75%/125%ï¼‰
6. æŸ¥çœ‹å¤ç›˜ç»“æœ
7. Pro ç”¨æˆ·å¯ç‚¹å‡»ã€Œé‡æ‰“åŒä¸€æ‰‹ã€

## ğŸ“ æ–‡ä»¶æ¸…å•

### æ–°å¢æ–‡ä»¶
```
backend/
â”œâ”€â”€ app/models/fullhand_session.py
â”œâ”€â”€ app/services/fullhand_engine.py
â”œâ”€â”€ app/services/flop_strategy.py
â”œâ”€â”€ app/services/fullhand_service.py
â”œâ”€â”€ app/api/fullhand.py
â”œâ”€â”€ app/schemas/fullhand.py
â””â”€â”€ alembic/versions/002_add_fullhand.py

frontend/
â”œâ”€â”€ src/types/fullhand.ts
â”œâ”€â”€ src/services/fullhandApi.ts
â””â”€â”€ src/pages/FullHand.tsx

ä¿®æ”¹æ–‡ä»¶
â”œâ”€â”€ backend/app/models/__init__.py
â”œâ”€â”€ backend/app/models/user.py
â”œâ”€â”€ backend/app/main.py
â”œâ”€â”€ frontend/src/App.tsx
â”œâ”€â”€ frontend/src/components/Layout.tsx
â”œâ”€â”€ frontend/src/pages/Dashboard.tsx
â””â”€â”€ frontend/src/types/index.ts
```

## âš ï¸ å·²çŸ¥é™åˆ¶

1. **AI ç­–ç•¥ç®€åŒ–**: AI ä½¿ç”¨åŸºäº GTO çš„ç®€åŒ–ç­–ç•¥ï¼Œéå®Œæ•´ solver
2. **å¿«è¿›é€»è¾‘ç®€åŒ–**: Turn/River çš„å¿«è¿›ä½¿ç”¨éšæœºé‡‡æ ·ï¼Œéå®Œæ•´åšå¼ˆ
3. **å¤šäººåº•æ± **: V1.1 ä¸»è¦ä¼˜åŒ– Heads-up åœºæ™¯
4. **æ‰‹ç‰Œè¯„ä¼°**: ä½¿ç”¨ç®€åŒ–ç‰ˆç‰ŒåŠ›è¯„ä¼°ï¼Œéå®Œæ•´æ‰‘å…‹è¯„ä¼°å™¨

## ğŸ“ åç»­ä¼˜åŒ–æ–¹å‘

- V1.2: ç¿»ç‰Œä¸“é¡¹è®­ç»ƒæ¨¡å—
- V1.3: Turn/River å¤šæ¬¡å†³ç­–
- V1.4: æ›´æ¥è¿‘ solver çš„ç­–ç•¥åº“
- çœŸå®å¤šäººç¿»ååšå¼ˆ
